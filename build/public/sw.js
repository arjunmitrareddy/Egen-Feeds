(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
'use strict';

var staticCache = 'transport-info-v2';
var imagesCache = 'transport-imgs';

var allCaches = [staticCache, imagesCache];

self.addEventListener('install', function (event) {
    event.waitUntil(Promise.all([caches.open(staticCache).then(function (cache) {
        return cache.addAll(['/', 'index.html', '/js/lib.js', '/js/app.js', '/styles/lib.css', '/styles/style.css', '/manifest.json', '/json/newSources.json']);
    }), caches.open(imagesCache).then(function (cache) {
        return cache.addAll(['imgs/favicon.png', 'fonts/FontAwesome.otf', 'fonts/fontawesome-webfont.eot', 'fonts/fontawesome-webfont.svg', 'fonts/fontawesome-webfont.ttf?v=4.6.3', 'fonts/fontawesome-webfont.woff?v=4.6.3', 'fonts/fontawesome-webfont.woff2?v=4.6.3', 'imgs/48.png', 'imgs/96.png', 'imgs/128.png', 'imgs/144.png', 'imgs/192.png', 'imgs/256.png', 'imgs/384.png', 'imgs/512.png', 'imgs/i60.png', 'imgs/i76.png', 'imgs/i120.png', 'imgs/i152.png', 'imgs/i167.png', 'imgs/i180.png']);
    })]));
});

self.addEventListener('activate', function (event) {
    event.waitUntil(caches.keys().then(function (cacheNames) {
        return Promise.all(cacheNames.filter(function (cacheName) {
            return !allCaches.includes(cacheName);
        }).map(function (cacheName) {
            return caches['delete'](cacheName);
        }));
    }));
});

self.addEventListener('fetch', function (event) {
    var requestUrl = new URL(event.request.url);
    if (requestUrl.origin === location.origin) {
        if (requestUrl.pathname.startsWith('/imgs/')) {
            event.respondWith(serveAssets(event.request, imagesCache));
            return;
        }
        if (requestUrl.pathname.startsWith('/fonts/')) {
            event.respondWith(serveAssets(event.request, imagesCache));
            return;
        }
        if (requestUrl.pathname.startsWith('/js/')) {
            event.respondWith(serveAssets(event.request, staticCache));
            return;
        }
        if (requestUrl.pathname.startsWith('/css/')) {
            event.respondWith(serveAssets(event.request, staticCache));
            return;
        }
        event.respondWith(caches.match(event.request).then(function (response) {
            return response || fetch(event.request);
        }));
    }
});

self.addEventListener('message', function (event) {
    if (event.data.skipWait) {
        self.skipWaiting();
    }
});

function serveAssets(request, cacheName) {
    return caches.open(cacheName).then(function (cache) {
        return cache.match(request).then(function (response) {
            if (response) return response;
            return fetch(request).then(function (response) {
                cache.put(request, response.clone());
                return response;
            });
        });
    });
}

},{}],2:[function(require,module,exports){
"use strict";

var r = FetchEvent.prototype.respondWith;
FetchEvent.prototype.respondWith = function () {
  return new URL(this.request.url).search.endsWith("bypass-sw") ? void 0 : r.apply(this, arguments);
};

},{}]},{},[1,2])

//# sourceMappingURL=data:application/json;charset:utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCIvVXNlcnMvYWRvbnRoYWxhL1dlYnN0b3JtUHJvamVjdHMvRWdlbi1GZWVkcy9wdWJsaWMvanMvc3cvaW5kZXguanMiLCIvVXNlcnMvYWRvbnRoYWxhL1dlYnN0b3JtUHJvamVjdHMvRWdlbi1GZWVkcy9wdWJsaWMvanMvc3cvcHJlcm9sbC9pbmRleC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7O0FDQ0EsSUFBSSxXQUFXLEdBQUcsbUJBQW1CLENBQUM7QUFDdEMsSUFBSSxXQUFXLEdBQUcsZ0JBQWdCLENBQUM7O0FBRW5DLElBQUksU0FBUyxHQUFHLENBQ1osV0FBVyxFQUNYLFdBQVcsQ0FDZCxDQUFDOztBQUVGLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxTQUFTLEVBQUUsVUFBUyxLQUFLLEVBQUU7QUFDN0MsU0FBSyxDQUFDLFNBQVMsQ0FDWCxPQUFPLENBQUMsR0FBRyxDQUNQLENBQ0ksTUFBTSxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsQ0FBQyxJQUFJLENBQUMsVUFBUyxLQUFLLEVBQUU7QUFDMUMsZUFBTyxLQUFLLENBQUMsTUFBTSxDQUFDLENBQ2hCLEdBQUcsRUFDSCxZQUFZLEVBQ1osWUFBWSxFQUNaLFlBQVksRUFDWixpQkFBaUIsRUFDakIsbUJBQW1CLEVBQ25CLGdCQUFnQixFQUNoQix1QkFBdUIsQ0FDMUIsQ0FBQyxDQUFBO0tBQ0wsQ0FBQyxFQUNGLE1BQU0sQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLENBQUMsSUFBSSxDQUFDLFVBQVMsS0FBSyxFQUFFO0FBQzFDLGVBQU8sS0FBSyxDQUFDLE1BQU0sQ0FBQyxDQUNoQixrQkFBa0IsRUFDbEIsdUJBQXVCLEVBQ3ZCLCtCQUErQixFQUMvQiwrQkFBK0IsRUFDL0IsdUNBQXVDLEVBQ3ZDLHdDQUF3QyxFQUN4Qyx5Q0FBeUMsRUFDekMsYUFBYSxFQUNiLGFBQWEsRUFDYixjQUFjLEVBQ2QsY0FBYyxF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T0FBTyxDQUFDLENBQUMsSUFBSSxDQUFDLFVBQVMsUUFBUSxFQUFFO0FBQ2hELGdCQUFJLFFBQVEsRUFBRSxPQUFPLFFBQVEsQ0FBQztBQUM5QixtQkFBTyxLQUFLLENBQUMsT0FBTyxDQUFDLENBQUMsSUFBSSxDQUFDLFVBQVMsUUFBUSxFQUFFO0FBQzFDLHFCQUFLLENBQUMsR0FBRyxDQUFDLE9BQU8sRUFBRSxRQUFRLENBQUMsS0FBSyxFQUFFLENBQUMsQ0FBQztBQUNyQyx1QkFBTyxRQUFRLENBQUM7YUFDbkIsQ0FBQyxDQUFDO1NBQ04sQ0FBQyxDQUFDO0tBQ04sQ0FBQyxDQUFDO0NBQ047Ozs7O0FDaEhELElBQUksQ0FBQyxHQUFDLFVBQVUsQ0FBQyxTQUFTLENBQUMsV0FBVyxDQUFBO0FBQ3RDLFVBQVUsQ0FBQyxTQUFTLENBQUMsV0FBVyxHQUFDLFlBQVU7QUFBQyxTQUFPLElBQUksR0FBRyxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxXQUFXLENBQUMsR0FBQyxLQUFLLENBQUMsR0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLElBQUksRUFBQyxTQUFTLENBQUMsQ0FBQTtDQUFDLENBQUEiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dmFyIGY9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKTt0aHJvdyBmLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsZn12YXIgbD1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxsLGwuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pIiwiXG52YXIgc3RhdGljQ2FjaGUgPSAndHJhbnNwb3J0LWluZm8tdjInO1xudmFyIGltYWdlc0NhY2hlID0gJ3RyYW5zcG9ydC1pbWdzJztcblxudmFyIGFsbENhY2hlcyA9IFtcbiAgICBzdGF0aWNDYWNoZSxcbiAgICBpbWFnZXNDYWNoZVxuXTtcblxuc2VsZi5hZGRFdmVudExpc3RlbmVyKCdpbnN0YWxsJywgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICBldmVudC53YWl0VW50aWwoXG4gICAgICAgIFByb21pc2UuYWxsKFxuICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgIGNhY2hlcy5vcGVuKHN0YXRpY0NhY2hlKS50aGVuKGZ1bmN0aW9uKGNhY2hlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjYWNoZS5hZGRBbGwoW1xuICAgICAgICAgICAgICAgICAgICAgICAgJy8nLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ2luZGV4Lmh0bWwnLFxuICAgICAgICAgICAgICAgICAgICAgICAgJy9qcy9saWIuanMnLFxuICAgICAgICAgICAgICAgICAgICAgICAgJy9qcy9hcHAuanMnLFxuICAgICAgICAgICAgICAgICAgICAgICAgJy9zdHlsZXMvbGliLmNzcycsXG4gICAgICAgICAgICAgICAgICAgICAgICAnL3N0eWxlcy9zdHlsZS5jc3MnLFxuICAgICAgICAgICAgICAgICAgICAgICAgJy9tYW5pZmVzdC5qc29uJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICcvanNvbi9uZXdTb3VyY2VzLmpzb24nXG4gICAgICAgICAgICAgICAgICAgIF0pXG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgY2FjaGVzLm9wZW4oaW1hZ2VzQ2FjaGUpLnRoZW4oZnVuY3Rpb24oY2FjaGUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNhY2hlLmFkZEFsbChbXG4gICAgICAgICAgICAgICAgICAgICAgICAnaW1ncy9mYXZpY29uLnBuZycsXG4gICAgICAgICAgICAgICAgICAgICAgICAnZm9udHMvRm9udEF3ZXNvbWUub3RmJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICdmb250cy9mb250YXdlc29tZS13ZWJmb250LmVvdCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAnZm9udHMvZm9udGF3ZXNvbWUtd2ViZm9udC5zdmcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ2ZvbnRzL2ZvbnRhd2Vzb21lLXdlYmZvbnQudHRmP3Y9NC42LjMnLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ2ZvbnRzL2ZvbnRhd2Vzb21lLXdlYmZvbnQud29mZj92PTQuNi4zJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICdmb250cy9mb250YXdlc29tZS13ZWJmb250LndvZmYyP3Y9NC42LjMnLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ2ltZ3MvNDgucG5nJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICdpbWdzLzk2LnBuZycsXG4gICAgICAgICAgICAgICAgICAgICAgICAnaW1ncy8xMjgucG5nJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICdpbWdzLzE0NC5wbmcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ2ltZ3MvMTkyLnBuZycsXG4gICAgICAgICAgICAgICAgICAgICAgICAnaW1ncy8yNTYucG5nJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICdpbWdzLzM4NC5wbmcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ2ltZ3MvNTEyLnBuZycsXG4gICAgICAgICAgICAgICAgICAgICAgICAnaW1ncy9pNjAucG5nJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICdpbWdzL2k3Ni5wbmcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ2ltZ3MvaTEyMC5wbmcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ2ltZ3MvaTE1Mi5wbmcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ2ltZ3MvaTE2Ny5wbmcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ2ltZ3MvaTE4MC5wbmcnXG4gICAgICAgICAgICAgICAgICAgIF0pXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIF1cbiAgICAgICAgKVxuICAgIClcbn0pO1xuXG5zZWxmLmFkZEV2ZW50TGlzdGVuZXIoJ2FjdGl2YXRlJywgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICBldmVudC53YWl0VW50aWwoXG4gICAgICAgIGNhY2hlcy5rZXlzKCkudGhlbihmdW5jdGlvbihjYWNoZU5hbWVzKSB7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwoXG4gICAgICAgICAgICAgICAgY2FjaGVOYW1lcy5maWx0ZXIoZnVuY3Rpb24oY2FjaGVOYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAhYWxsQ2FjaGVzLmluY2x1ZGVzKGNhY2hlTmFtZSk7XG4gICAgICAgICAgICAgICAgfSkubWFwKGZ1bmN0aW9uKGNhY2hlTmFtZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY2FjaGVzLmRlbGV0ZShjYWNoZU5hbWUpO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICApO1xuICAgICAgICB9KVxuICAgICk7XG59KTtcblxuc2VsZi5hZGRFdmVudExpc3RlbmVyKCdmZXRjaCcsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgdmFyIHJlcXVlc3RVcmwgPSBuZXcgVVJMKGV2ZW50LnJlcXVlc3QudXJsKTtcbiAgICBpZiAocmVxdWVzdFVybC5vcmlnaW4gPT09IGxvY2F0aW9uLm9yaWdpbikge1xuICAgICAgICBpZiAocmVxdWVzdFVybC5wYXRobmFtZS5zdGFydHNXaXRoKCcvaW1ncy8nKSkge1xuICAgICAgICAgICAgZXZlbnQucmVzcG9uZFdpdGgoc2VydmVBc3NldHMoZXZlbnQucmVxdWVzdCwgaW1hZ2VzQ2FjaGUpKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAocmVxdWVzdFVybC5wYXRobmFtZS5zdGFydHNXaXRoKCcvZm9udHMvJykpIHtcbiAgICAgICAgICAgIGV2ZW50LnJlc3BvbmRXaXRoKHNlcnZlQXNzZXRzKGV2ZW50LnJlcXVlc3QsIGltYWdlc0NhY2hlKSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJlcXVlc3RVcmwucGF0aG5hbWUuc3RhcnRzV2l0aCgnL2pzLycpKSB7XG4gICAgICAgICAgICBldmVudC5yZXNwb25kV2l0aChzZXJ2ZUFzc2V0cyhldmVudC5yZXF1ZXN0LCBzdGF0aWNDYWNoZSkpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChyZXF1ZXN0VXJsLnBhdGhuYW1lLnN0YXJ0c1dpdGgoJy9jc3MvJykpIHtcbiAgICAgICAgICAgIGV2ZW50LnJlc3BvbmRXaXRoKHNlcnZlQXNzZXRzKGV2ZW50LnJlcXVlc3QsIHN0YXRpY0NhY2hlKSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZXZlbnQucmVzcG9uZFdpdGgoXG4gICAgICAgICAgICBjYWNoZXMubWF0Y2goZXZlbnQucmVxdWVzdCkudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZSB8fCBmZXRjaChldmVudC5yZXF1ZXN0KTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICk7XG4gICAgfVxufSk7XG5cbnNlbGYuYWRkRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgaWYgKGV2ZW50LmRhdGEuc2tpcFdhaXQpIHtcbiAgICAgICAgc2VsZi5za2lwV2FpdGluZygpO1xuICAgIH1cbn0pO1xuXG5mdW5jdGlvbiBzZXJ2ZUFzc2V0cyhyZXF1ZXN0LCBjYWNoZU5hbWUpIHtcbiAgICByZXR1cm4gY2FjaGVzLm9wZW4oY2FjaGVOYW1lKS50aGVuKGZ1bmN0aW9uKGNhY2hlKSB7XG4gICAgICAgIHJldHVybiBjYWNoZS5tYXRjaChyZXF1ZXN0KS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICBpZiAocmVzcG9uc2UpIHJldHVybiByZXNwb25zZTtcbiAgICAgICAgICAgIHJldHVybiBmZXRjaChyZXF1ZXN0KS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgY2FjaGUucHV0KHJlcXVlc3QsIHJlc3BvbnNlLmNsb25lKCkpO1xuICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9KTtcbn0iLCJ2YXIgcj1GZXRjaEV2ZW50LnByb3RvdHlwZS5yZXNwb25kV2l0aFxuRmV0Y2hFdmVudC5wcm90b3R5cGUucmVzcG9uZFdpdGg9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IFVSTCh0aGlzLnJlcXVlc3QudXJsKS5zZWFyY2guZW5kc1dpdGgoXCJieXBhc3Mtc3dcIik/dm9pZCAwOnIuYXBwbHkodGhpcyxhcmd1bWVudHMpfSJdfQ==